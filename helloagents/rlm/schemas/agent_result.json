{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://helloagents.dev/schemas/agent_result.json",
  "title": "AgentResult",
  "description": "RLM å­ä»£ç†æ‰§è¡Œç»“æœçš„æ ‡å‡†æ ¼å¼",
  "type": "object",
  "required": ["status", "key_findings"],
  "properties": {
    "status": {
      "type": "string",
      "enum": ["completed", "failed", "partial", "in_progress"],
      "description": "ä»£ç†æ‰§è¡ŒçŠ¶æ€"
    },
    "key_findings": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "description": "å…³é”®å‘ç°åˆ—è¡¨ï¼Œè‡³å°‘åŒ…å«1æ¡"
    },
    "changes_made": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["file", "type", "description"],
        "properties": {
          "file": {
            "type": "string",
            "description": "æ–‡ä»¶è·¯å¾„"
          },
          "type": {
            "type": "string",
            "enum": ["create", "modify", "delete"],
            "description": "å˜æ›´ç±»å‹"
          },
          "description": {
            "type": "string",
            "description": "å˜æ›´æè¿°"
          },
          "scope": {
            "type": "string",
            "description": "å˜æ›´èŒƒå›´ï¼ˆå‡½æ•°/ç±»åï¼Œä»£ç å®ç°ç±»å­ä»£ç†ä½¿ç”¨ï¼‰"
          }
        }
      },
      "description": "æ–‡ä»¶å˜æ›´è®°å½•"
    },
    "verification": {
      "type": "object",
      "properties": {
        "lint_passed": {
          "description": "lint æ£€æŸ¥ç»“æœ",
          "enum": [true, false, "skipped"]
        },
        "tests_passed": {
          "description": "æµ‹è¯•æ£€æŸ¥ç»“æœ",
          "enum": [true, false, "skipped"]
        }
      },
      "description": "è´¨é‡éªŒè¯ç»“æœï¼ˆä»£ç å®ç°/æµ‹è¯•ç¼–å†™ç±»å­ä»£ç†ä½¿ç”¨ï¼ŒRLM è§’è‰²å­ä»£ç†å¯çœç•¥ï¼‰"
    },
    "issues_found": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["severity", "description"],
        "properties": {
          "severity": {
            "type": "string",
            "enum": ["high", "medium", "low"],
            "description": "é—®é¢˜ä¸¥é‡ç¨‹åº¦"
          },
          "description": {
            "type": "string",
            "description": "é—®é¢˜æè¿°"
          },
          "location": {
            "type": "string",
            "description": "é—®é¢˜ä½ç½®ï¼ˆæ–‡ä»¶:è¡Œå·ï¼‰"
          },
          "suggestion": {
            "type": "string",
            "description": "ä¿®å¤å»ºè®®"
          }
        }
      },
      "description": "å‘ç°çš„é—®é¢˜åˆ—è¡¨"
    },
    "recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "åç»­å»ºè®®åˆ—è¡¨"
    },
    "needs_followup": {
      "type": "boolean",
      "default": false,
      "description": "æ˜¯å¦éœ€è¦åç»­è·Ÿè¿›"
    },
    "followup_context": {
      "type": "string",
      "description": "åç»­è·Ÿè¿›ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰"
    },
    "progress_snapshot": {
      "type": "string",
      "description": "è¿›åº¦å¿«ç…§ï¼ˆpkg_keeper è§’è‰²ä½¿ç”¨ï¼Œæ ¼å¼: ğŸ“Š è¿›åº¦å¿«ç…§ | å®Œæˆ: X | å¤±è´¥: Y | è·³è¿‡: Z | æ€»è®¡: Nï¼‰"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "agent_id": {
          "type": "string",
          "description": "ä»£ç†å”¯ä¸€æ ‡è¯†"
        },
        "role": {
          "type": "string",
          "description": "ä»£ç†è§’è‰²"
        },
        "depth": {
          "type": "integer",
          "minimum": 0,
          "maximum": 5,
          "description": "é€’å½’æ·±åº¦"
        },
        "parent_id": {
          "type": "string",
          "description": "çˆ¶ä»£ç†ID"
        },
        "start_time": {
          "type": "string",
          "format": "date-time",
          "description": "å¼€å§‹æ—¶é—´"
        },
        "end_time": {
          "type": "string",
          "format": "date-time",
          "description": "ç»“æŸæ—¶é—´"
        },
        "token_usage": {
          "type": "object",
          "properties": {
            "input": {
              "type": "integer",
              "description": "è¾“å…¥tokenæ•°"
            },
            "output": {
              "type": "integer",
              "description": "è¾“å‡ºtokenæ•°"
            }
          }
        }
      },
      "description": "æ‰§è¡Œå…ƒæ•°æ®"
    }
  },
  "examples": [
    {
      "status": "completed",
      "key_findings": [
        "é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œå…±æœ‰12ä¸ªæ ¸å¿ƒæ¨¡å—",
        "å‘ç°3å¤„æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆ",
        "æµ‹è¯•è¦†ç›–ç‡ä¸º78%"
      ],
      "changes_made": [
        {
          "file": "src/api/routes.py",
          "type": "modify",
          "description": "ä¼˜åŒ–äº†æ•°æ®åº“æŸ¥è¯¢é€»è¾‘"
        }
      ],
      "issues_found": [
        {
          "severity": "medium",
          "description": "ç¼ºå°‘è¾“å…¥éªŒè¯",
          "location": "src/api/routes.py:45",
          "suggestion": "æ·»åŠ å‚æ•°éªŒè¯è£…é¥°å™¨"
        }
      ],
      "recommendations": [
        "å»ºè®®æ·»åŠ ç¼“å­˜å±‚æå‡æ€§èƒ½",
        "è€ƒè™‘å°†å¤§å‹å‡½æ•°æ‹†åˆ†ä¸ºæ›´å°çš„å•å…ƒ"
      ],
      "needs_followup": false,
      "metadata": {
        "agent_id": "agent_001",
        "role": "reviewer",
        "depth": 1,
        "parent_id": "root",
        "start_time": "2026-01-23T10:00:00Z",
        "end_time": "2026-01-23T10:05:00Z",
        "token_usage": {
          "input": 2500,
          "output": 800
        }
      }
    }
  ]
}
